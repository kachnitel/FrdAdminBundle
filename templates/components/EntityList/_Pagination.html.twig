{#
 # Partial template for pagination controls.
 #
 # Variables:
 # @var PaginationInfo paginationInfo - Pagination information object
 # @var int page - Current page number
 # @var array allowedItemsPerPage - Available items per page options
 # @var int itemsPerPage - Current items per page
 #}

{% if paginationInfo.totalPages > 0 %}
    <div class="pagination-wrapper d-flex justify-content-between align-items-center mt-3">
        {# Items per page selector #}
        <div class="items-per-page">
            <label for="items-per-page" class="form-label me-2">Items per page:</label>
            <select
                id="items-per-page"
                class="form-select form-select-sm d-inline-block w-auto"
                data-model="itemsPerPage"
            >
                {% for option in allowedItemsPerPage %}
                    <option value="{{ option }}" {% if option == itemsPerPage %}selected{% endif %}>
                        {{ option }}
                    </option>
                {% endfor %}
            </select>
        </div>

        {# Pagination info and controls #}
        <div class="pagination-info-controls d-flex align-items-center gap-3">
            {# Showing X-Y of Z #}
            <span class="text-muted">
                {% if paginationInfo.totalItems > 0 %}
                    Showing {{ paginationInfo.startItem }}-{{ paginationInfo.endItem }} of {{ paginationInfo.totalItems }}
                {% else %}
                    No items
                {% endif %}
            </span>

            {# Page navigation #}
            <nav aria-label="Page navigation">
                <ul class="pagination pagination-sm mb-0">
                    {# Previous button #}
                    <li class="page-item {% if page <= 1 %}disabled{% endif %}">
                        <button
                            class="page-link"
                            data-action="live#action"
                            data-live-action-param="previousPage"
                            {% if page <= 1 %}disabled{% endif %}
                        >
                            Previous
                        </button>
                    </li>

                    {# Page number display #}
                    <li class="page-item disabled">
                        <span class="page-link">
                            Page {{ page }} of {{ paginationInfo.totalPages }}
                        </span>
                    </li>

                    {# Next button #}
                    <li class="page-item {% if page >= paginationInfo.totalPages %}disabled{% endif %}">
                        <button
                            class="page-link"
                            data-action="live#action"
                            data-live-action-param="nextPage"
                            {% if page >= paginationInfo.totalPages %}disabled{% endif %}
                        >
                            Next
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
{% endif %}
