{#
 # Default filter templates for per-column filtering.
 # Each block renders a specific filter type.
 #
 # Variables available in each block:
 # @var string column - Column name
 # @var array filter - Filter metadata (type, label, etc.)
 #}

{# Text filter - simple input #}
{% block column_filter_text %}
    <input
        type="text"
        class="form-control form-control-sm"
        placeholder="{{ filter.placeholder|default(filter.label) }}"
        data-model="columnFilters.{{ column }}"
        value="{{ columnFilters[column]|default('') }}"
    >
{% endblock %}

{# Number filter - number input #}
{% block column_filter_number %}
    <input
        type="number"
        class="form-control form-control-sm"
        placeholder="{{ filter.placeholder|default(filter.label) }}"
        data-model="columnFilters.{{ column }}"
        value="{{ columnFilters[column]|default('') }}"
    >
{% endblock %}

{# Date filter - date input #}
{% block column_filter_date %}
    <input
        type="date"
        class="form-control form-control-sm"
        data-model="columnFilters.{{ column }}"
        value="{{ columnFilters[column]|default('') }}"
    >
{% endblock %}

{# Boolean filter - select dropdown #}
{% block column_filter_boolean %}
    <select
        class="form-control form-control-sm"
        data-model="columnFilters.{{ column }}"
    >
        <option value="">All</option>
        <option value="1" {{ columnFilters[column]|default('') == '1' ? 'selected' : '' }}>Yes</option>
        <option value="0" {{ columnFilters[column]|default('') == '0' ? 'selected' : '' }}>No</option>
    </select>
{% endblock %}

{# Enum filter - select dropdown #}
{% block column_filter_enum %}
    <select
        class="form-control form-control-sm"
        data-model="columnFilters.{{ column }}"
    >
        {% if filter.showAllOption|default(true) %}
            <option value="">All</option>
        {% endif %}
        {% for case in enum(filter.enumClass).cases() %}
            <option value="{{ case.value }}" {{ columnFilters[column]|default('') == case.value ? 'selected' : '' }}>
                {{ case.displayValue is defined ? case.displayValue() : case.name }}
            </option>
        {% endfor %}
    </select>
{% endblock %}

{# Relation filter - text search across related entity fields #}
{% block column_filter_relation %}
    <input
        type="text"
        class="form-control form-control-sm"
        placeholder="{{ filter.placeholder|default('Search ' ~ filter.targetEntity) }}"
        data-model="columnFilters.{{ column }}"
        value="{{ columnFilters[column]|default('') }}"
        title="Searches: {{ filter.searchFields|join(', ') }}"
    >
{% endblock %}
